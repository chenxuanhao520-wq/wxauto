# 生产栏目派工管理派工

**API数量**: 2 个

---

## 派工添加

**路径**: 首页生产栏目派工管理派工对接派工添加

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/webapi/api/ZBServices/webapi/Produce/WorkAssign/Handler/WorkAssignsHandler/SaveWorkAssigns`

**请求类型**: ``

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| Token | string | 否 | 身份唯一标识; 类型为String 用于验证权限,通过登录接口获取session字符串【详情参见】 |
| Datas | object | 否 | 条件对象; 类型为Object 以下任何参数：不传表示【本次不编辑此字段】，传任何值【都会替换原值】 |
| Code | string | 否 | 派工编号; 字符串 如：'test' |
| Title | string | 是 | 派工主题; 必填 字符串 如：'test' |
| DateWA | datetime | 否 | 派工时间; 时间格式 如：2020-01-01 |
| ExecQcCheck | int32 | 否 | 是否需要派工质检; 整数 如：1 1=需要质检 0=不需要质检 |
| CreatorID | int32 | 否 | 添加人ID; 整数 如：1 参考账号列表接口返回ID 【详情参见】 |
| ProductID | int32 | 是 | 派工产品ID; 必填 整数 如：1 参考产品列表接口返回ID 【详情参见】 |
| UnitID | int32 | 是 | 派工产品单位ID; 必填 整数 如：1 参考单位列表接口返回ID 【详情参见】 |
| NumMake | decimal | 是 | 派工数量; 必填 数字 如：1.0 |
| Cateid_WA | string | 是 | 被派人员ID或姓名; 必填 字符串 如：'test' 逗号分隔(被派人员),参考账号列表接口返回的ID 【详情参见】 |
| DateStart | datetime | 是 | 计划开工日期; 必填 时间格式 如：2020-01-01 |
| DateEnd | datetime | 是 | 计划完工日期; 必填 时间格式 如：2020-01-01 |
| DateDelivery | datetime | 是 | 交货日期; 必填 时间格式 如：2020-01-01 |
| IsHasXLH | boolean | 否 | 序列号是否开启; 序列号如果开启且序列号信息未填写会自动生成序列号 |
| SerialNumberCode | string | 否 | 序列号; 字符串 如：'test' 自动创建序列号该属性不需要填写，序列号编码支持填写多项，以逗号隔开 |
| IsHasPH | boolean | 否 | 批号是否开启; |
| BatchNumberCode | string | 否 | 批号; 字符串 如：'test' 批号编码支持填写多项，以逗号隔开 |
| Priority | int32 | 否 | 优先级; 整数 如：1 派工的优先级，影响排产。数字越大优先级越高 |
| Remark | string | 否 | 备注; 字符串 如：'test' |
| WorkAssignItems | ienumerable`1 | 否 | 所需物料列表; 集合(List) |
| ProductID | int32 | 否 | 产品ID; 整数 如：1 参考产品列表接口返回ID 【详情参见】 |
| UnitID | int32 | 否 | 单位ID; 整数 如：1 参考单位列表接口返回ID 【详情参见】 |
| Bl | decimal | 否 | 产品比例; 数字 如：1.0 |
| NeedNum | decimal | 否 | 所需数量; 数字 如：1.0 |
| WastAge | decimal | 否 | 损耗率; 数字 如：1.0 |
| ReceivedDate | datetime | 否 | 到货日期; 时间格式 如：2020-01-01 |
| Intro | string | 否 | 备注; 字符串 如：'test' |
| WorkAssignWFPs | ienumerable`1 | 否 | 工序执行列表; 集合(List) |
| RowIndex | int32 | 否 | 加工次序; 整数 如：1 |
| WorkingProcedureID | int32 | 否 | 工序ID; 整数 如：1 参考工序列表接口返回ID 【详情参见】 |
| IsOut | int32 | 否 | 是否委外; 整数 如：1 0:自制 1:委外 |
| WorkCenterName | string | 否 | 工作中心; 字符串 如：'test' |
| CateIDs | string | 是 | 主负责人ID或姓名; 必填 字符串 如：'test' 逗号分隔(生产人员),参考账号列表接口返回的ID 【详情参见】 |
| ConversionBL | decimal | 否 | 换算比例; 数字 如：1.0 |
| NumMake | decimal | 否 | 加工数量; 数字 如：1.0 |
| Wtime | decimal | 否 | 计划总时间; 数字 如：1.0 |
| UnitID | int32 | 否 | 工时单位; 整数 如：1 0：秒 1：分钟 2：小时 |
| rptime | decimal | 否 | 准备时间; 数字 如：1.0 |
| wNum | decimal | 是 | 加工批量; 必填 数字 如：1.0 |
| jgtime | decimal | 是 | 加工工时; 必填 数字 如：1.0 |
| mNum | decimal | 否 | 搬运批量; 数字 如：1.0 |
| mtime | decimal | 否 | 搬运工时; 数字 如：1.0 |
| DateStart | datetime | 否 | 计划开工日期; 时间格式 如：2020-01-01 |
| DateEnd | datetime | 否 | 计划完工日期; 时间格式 如：2020-01-01 |
| ReportingExceptionStrategy | int32 | 否 | 汇报例外策略; 整数 如：1 1=启用 0=未启用 |
| ReportingUnit | int32 | 否 | 汇报单位; 整数 如：1 参考单位接口列表返回ID |
| BatchNumberStart | int32 | 否 | 批号启用; 整数 如：1 1=是 0=否 |
| SerialNumberStart | int32 | 否 | 序列号启用; 整数 如：1 1=是 0=否 |
| IntermediateProduct | string | 否 | 中间产出物; 字符串 如：'test' |
| ReportingRounding | int32 | 否 | 汇报取整; 整数 如：1 1=是 0=否 |
| ExecCheck | int32 | 否 | 工序审核; 整数 如：1 1=是 0=否 |

### 📤 请求示例

```json
{
    "Token": "xxxxxxxxxxx",
    "Datas": [
        {
            "Code": "",
            "Title": "",
            "DateWA": "",
            "ExecQcCheck": 0,
            "CreatorID": 0,
            "ProductID": 0,
            "UnitID": "",
            "NumMake": 0,
            "Cateid_WA": "1,2,3",
            "DateStart": "",
            "DateEnd": "",
            "DateDelivery": "",
            "IsHasXLH": "false",
            "SerialNumberCode": "XLHA1,XLHA2",
            "IsHasPH": false,
            "BatchNumberCode": "PHA1,PHA2,PHA3",
            "Priority": "",
            "Remark": "",
            "WorkAssignItems": [
                {
                    "ProductID": "",
                    "UnitID": "",
                    "Bl": "",
                    "NeedNum": 0,
                    "WastAge": 0,
                    "ReceivedDate": "0001-01-01 00:00:00",
                    "Intro": ""
                }
```

### 📨 响应参数

| 字段名称 | 类型 | 描述 |
|----------|------|------|
| flag | Boolean | 请求是否成功; ture:成功 false:失败 |
| code | Int32 | 状态码; 请求成功=200；请求失败=300；token验证失败=400；服务器内部错误=500 |
| msg | String | 提示信息; |
| datas | Object | 返回结果; 返回结果列表,最多返回50条数据,添加、修改接口时返回空 |

---

## 获取派工列表

**路径**: 首页生产栏目派工管理派工对接获取派工列表

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/webapi/api/ZBServices/webapi/Produce/WorkAssign/Handler/WorkAssignsHandler/GetWorkAssigns`

**请求类型**: ``

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| Token | string | 否 | 身份唯一标识; 类型为String 用于验证权限,通过登录接口获取session字符串【详情参见】 |
| Datas | object | 否 | 条件对象; 类型为Object 以下任何参数：不传表示【本次不编辑此字段】，传任何值【都会替换原值】 |
| PageNumber | int32 | 否 | 页数; 整数 如：1 |
| PageSize | int32 | 否 | 每页大小; 整数 如：1 |
| Code | string | 否 | 编号; 字符串 如：'test' 模糊检索 |
| Title | string | 否 | 主题; 字符串 如：'test' 模糊检索 |
| StartTime | datetime | 否 | 开始日期; 时间格式 如：2020-01-01 |
| EndTime | datetime | 否 | 结束日期; 时间格式 如：2020-01-01 |
| SearchType | int32 | 否 | 检索类型; 整数 如：1 0:全量数据 1:变量数量 |

### 📤 请求示例

```json
{
    "Token": "xxxxxxxxxxx",
    "Datas": {
        "PageNumber": "1",
        "PageSize": "20",
        "Code": "",
        "Title": "",
        "StartTime": "2020-01-01",
        "EndTime": "2020-01-31",
        "SearchType": 0
    }
```

### 📨 响应参数

| 字段名称 | 类型 | 描述 |
|----------|------|------|
| flag | Boolean | 请求是否成功; ture:成功 false:失败 |
| code | Int32 | 状态码; 请求成功=200；请求失败=300；token验证失败=400；服务器内部错误=500 |
| msg | String | 提示信息; |
| datas | Object | 返回结果; 返回结果列表,最多返回50条数据,添加、修改接口时返回空 |
| ID | Int32 | 派工单ID; 整数 如：1 |
| Code | String | 派工单编号; 字符串 如：'test' |
| Title | String | 派单工主题; 字符串 如：'test' |
| ExecQcCheck | Int32 | 派工质检策略（无需质检=0 需要质检=1; 整数 如：1 |
| InDate | DateTime | 添加日期; 时间格式 如：2020-01-01 |
| Cateid_WA | String | 被派人员ID; 字符串 如：'test' |
| Catename_WA | String | 被派人员姓名; 字符串 如：'test' |
| ManuCostStatus | ManuCostAnalysisStatusEnum | 成本核算状态（未核算 = 0 部分核算 = 1 全部核算 = 2）; |
| llstatus | Int32 | 领料状态（未领料=0;部分领料=1;领料完毕=2;超量领料=3;无需领料=4）; 整数 如：1 |
| Sjstatus | Int32 | 送检状态（待送检 = 0;部分送检 = 1;送检完毕 = 2;超量送检 = 3;无需送检 = 4）; 整数 如：1 |
| zjstatus | Int32 | 质检状态（未质检=0;部分质检=1;质检完毕=2;超量质检=3）; 整数 如：1 |
| rkstatus | Int32 | 入库状态(未入库=0;部分入库=1;入库完毕=2;超量入库=3); 整数 如：1 |
| djstatus | Int32 | 登记状态（未登记=0;部分登记=1;登记完毕=2;超量登记=3;无需登记=4）; 整数 如：1 |
| ProduceStatus | Int32 | 生产状态（未开始 = 0;滞期未开始; = 1;生产中 = 2;超期生产中; = 3;生产完毕 = 4）; 整数 如：1 |
| Status | BillApproveStatusEnum | 派工单的终止状态（1=正常 2=终止）; |
| SPStatus | BillApproveStatusEnum | 审批状态（无需审批 = -1;审批未通过 = 0;审批通过 = 1;审批退回_或终止 = 2;待提交审批 = 3;待审批 = 4;审批中 = 5; |
| ProductID | Int32 | 派工产品ID; 整数 如：1 |
| ProductName | String | 派工产品名称; 字符串 如：'test' |
| ProductCode | String | 派工产品编号; 字符串 如：'test' |
| ProductModel | String | 派工产品型号; 字符串 如：'test' |
| UnitName | String | 派工产品单位; 字符串 如：'test' |
| NumMake | Decimal | 派工数量; 数字 如：1.0 |
| DateStart | DateTime | 计划开工期; 时间格式 如：2020-01-01 |
| DateEnd | DateTime | 计划完工期; 时间格式 如：2020-01-01 |
| DateDelivery | DateTime | 交货日期; 时间格式 如：2020-01-01 |
| Priority | String | 优先级; 字符串 如：'test' |
| Remark | String | 备注; 字符串 如：'test' |
| WorkAssignItems | IEnumerable`1 | 所需物料列表; 集合(List) |
| ID | Int32 | ; 整数 如：1 |
| ProductID | Int32 | 物料产品ID; 整数 如：1 |
| ProductName | String | 物料产品名称; 字符串 如：'test' |
| ProductCode | String | 物料产品编号; 字符串 如：'test' |
| ProductModel | String | 物料产品型号; 字符串 如：'test' |
| UnitID | Int32 | 物料产品单位ID; 整数 如：1 |
| UnitName | String | 物料产品单位名称; 字符串 如：'test' |
| BL | Decimal | 产品比例; 数字 如：1.0 |
| WastAge | Decimal | 损耗率; 数字 如：1.0 百分比 |
| NeedNum | Decimal | 所需数量; 数字 如：1.0 |
| RegedNum | Decimal | 登记数量; 数字 如：1.0 |
| ReceivedDate | DateTime | 到货日期; 时间格式 如：2020-01-01 |
| WorkAssignWFPs | IEnumerable`1 | 工序执行列表; 集合(List) |
| ID | Int32 | ; 整数 如：1 |
| RowIndex | Int32 | 加工次序; 整数 如：1 |
| WorkingProcedureTitle | String | 工序名称; 字符串 如：'test' |
| IsOut | Int32 | 是否委外; 整数 如：1 0:自制 1：委外 |
| WorkCenterName | String | 工作中心名称; 字符串 如：'test' |
| ResourceName | String | 资源名称; 字符串 如：'test' |
| ExecStatus | Int32 | 工序执行状态（未执行 = 0 部分执行 = 1 执行完毕 = 2 超量执行 = 3）; 整数 如：1 |
| rptime | Decimal | 准备时间; 数字 如：1.0 |
| wNum | Decimal | 加工批量; 数字 如：1.0 |
| jgtime | Decimal | 加工时间; 数字 如：1.0 |
| mNum | Decimal | 搬运批量; 数字 如：1.0 |
| mtime | Decimal | 搬运时间; 数字 如：1.0 |
| CateNames | String | 主负责人; 字符串 如：'test' |
| UnitID | Int32 | 工时单位; 整数 如：1 0:秒 1:分钟 2:小时 |
| NumMake | Decimal | 加工数量; 数字 如：1.0 |
| DateStart | DateTime | 计划开工日期; 时间格式 如：2020-01-01 |
| DateEnd | DateTime | 计划完工日期; 时间格式 如：2020-01-01 |
| Wtime | Decimal | 计划总时间; 数字 如：1.0 |
| ReportingExceptionStrategy | Int32 | 汇报例外策略; 整数 如：1 1=是 0=否 |
| ConversionBL | Decimal | 换算比例; 数字 如：1.0 |
| ReportingUnit | Int32 | 汇报单位; 整数 如：1 参考单位列表接口返回的ID |
| BatchNumberStart | Int32 | 批号启用; 整数 如：1 1=是 0=否 |
| SerialNumberStart | Int32 | 序列号启用; 整数 如：1 1=是 0=否 |
| IntermediateProduct | String | 中间产出物; 字符串 如：'test' |
| ReportingRounding | Int32 | 汇报取整; 整数 如：1 1=是 0=否 |
| ExecCheck | Int32 | 工序审核（无需审核 = 0 需审核 = 1）; 整数 如：1 |
| JJHGPrice | Decimal | 合格计件工价; 数字 如：1.0 |
| JJBFPrice | Decimal | 报废计件工价; 数字 如：1.0 |
| JSPrice | Decimal | 计时工价; 数字 如：1.0 |

---

