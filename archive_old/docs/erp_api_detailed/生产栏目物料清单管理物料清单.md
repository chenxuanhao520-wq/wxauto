# 生产栏目物料清单管理物料清单

**API数量**: 2 个

---

## 物料清单添加/修改(适用V32.10已有功能)

**路径**: 首页生产栏目物料清单管理物料清单对接物料清单添加/修改(适用V32.10已有功能)

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/webapi/api/ZBServices/webapi/Produce/Bom/Handler/BomHandler/SaveBoms`

**请求类型**: ``

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| Token | string | 否 | 身份唯一标识; 类型为String 用于验证权限,通过登录接口获取session字符串【详情参见】 |
| Datas | object | 否 | 条件对象; 类型为Object 以下任何参数：不传表示【本次不编辑此字段】，传任何值【都会替换原值】 |
| BomItem | bomitemview | 是 | 物料清单父件信息; 必填 对象(object) |
| ID | int32 | 是 | 唯一标识; 必填 整数 如：1 物料清单明细ID，添加默认为0，修改时需要通过物料清单列表接口获取物料清单结构对内容进行修改，ID不可修改 |
| ProductID | int32 | 是 | 产品ID; 必填 整数 如：1 参考产品接口返回ID |
| ChildID | int32 | 否 | 物料清单子件BOM的ID; 整数 如：1 参考物料清单接口返回ID |
| UnitId | int32 | 是 | 产品单位Id; 必填 整数 如：1 参考产品单位接口返回的ID |
| Bl | decimal | 是 | 产品比例; 必填 数字 如：1.0 |
| Num | decimal | 是 | 数量; 必填 数字 如：1.0 |
| Role | int32 | 是 | 产品角色; 必填 整数 如：1 0:自制件 1:委外件 2：外购件 |
| WorkingFlowsID | int32 | 否 | 工艺路线ID; 整数 如：1 参考工艺路线接口返回ID |
| Wastage | decimal | 是 | 损耗率; 必填 数字 如：1.0 百分比,如0.1输入10 |
| Mtype | int32 | 是 | 领料方式; 必填 整数 如：1 1:正常领料 2:入库倒冲 默认值：0 |
| Del | int32 | 是 | 物料清单明细删除状态; 必填 整数 如：1 1：正常 2：删除 |
| BomItems | ilist`1 | 否 | 物料清单明细子件; 集合(List) 可以多个层级嵌套 |
| ID | int32 | 是 | 唯一标识; 必填 整数 如：1 物料清单明细ID，添加默认为0，修改时需要通过物料清单列表接口获取物料清单结构对内容进行修改，ID不可修改 |
| ProductID | int32 | 是 | 产品ID; 必填 整数 如：1 参考产品接口返回ID |
| ChildID | int32 | 否 | 物料清单子件BOM的ID; 整数 如：1 参考物料清单接口返回ID |
| UnitId | int32 | 是 | 产品单位Id; 必填 整数 如：1 参考产品单位接口返回的ID |
| Bl | decimal | 是 | 产品比例; 必填 数字 如：1.0 |
| Num | decimal | 是 | 数量; 必填 数字 如：1.0 |
| Role | int32 | 是 | 产品角色; 必填 整数 如：1 0:自制件 1:委外件 2：外购件 |
| WorkingFlowsID | int32 | 否 | 工艺路线ID; 整数 如：1 参考工艺路线接口返回ID |
| Wastage | decimal | 是 | 损耗率; 必填 数字 如：1.0 百分比,如0.1输入10 |
| Mtype | int32 | 是 | 领料方式; 必填 整数 如：1 1:正常领料 2:入库倒冲 默认值：0 |
| Del | int32 | 是 | 物料清单明细删除状态; 必填 整数 如：1 1：正常 2：删除 |
| BomItems | ilist`1 | 否 | 物料清单明细子件; 集合(List) 可以多个层级嵌套 |
| ID | int32 | 是 | 唯一标识; 必填 整数 如：1 物料清单ID,添加为0，修改时需要通过物料清单列表接口获取物料清单结构对内容进行修改，ID不可修改 |
| Code | string | 否 | 物料清单编号; 字符串 如：'test' |
| Title | string | 是 | 单据主题; 必填 字符串 如：'test' |
| BillType | int32 | 是 | 物料清单类型; 必填 整数 如：1 0：物料清单组件 1：物料清单 |
| IsMain | int32 | 是 | 物料清单主辅; 必填 整数 如：1 0：辅 1：主 |
| Intro | string | 否 | 备注; 字符串 如：'test' |
| FromType | int32 | 是 | 物料清单来源; 必填 整数 如：1 0:手动添加 1：合同 2：报价 3：设计 |
| FromID | int32 | 否 | 物料清单来源ID; 整数 如：1 手动添加时为0 |
| Del | int32 | 是 | 物料清单删除状态; 必填 整数 如：1 1：正常 2：删除 |

### 📤 请求示例

```json
{
    "Token": "xxxxxxxxxxx",
    "Datas": [
        {
            "BomItem": {
                "ID": 0,
                "ProductID": 0,
                "ChildID": 0,
                "UnitId": 0,
                "Bl": 0,
                "Num": 0,
                "Role": 0,
                "WorkingFlowsID": 0,
                "Wastage": 0,
                "Mtype": 0,
                "Del": "1",
                "BomItems": [
                    {
                        "ID": 0,
                        "ProductID": 0,
                        "ChildID": 0,
                        "UnitId": 0,
                        "Bl": 0,
                        "Num": 0,
                        "Role": 0,
                        "WorkingFlowsID": 0,
                        "Wastage": 0,
                        "Mtype": 0,
                        "Del": "1",
                        "BomItems": [
                            {
                                "ID": 0,
                                "ProductID": 0,
                                "ChildID": 0,
                                "UnitId": 0,
                                "Bl": 0,
                                "Num": 0,
                                "Role": 0,
                                "WorkingFlowsID": 0,
                                "Wastage": 0,
                                "Mtype": 0,
                                "Del": "1"
                            }
```

### 📨 响应参数

| 字段名称 | 类型 | 描述 |
|----------|------|------|
| flag | Boolean | 请求是否成功; ture:成功 false:失败 |
| code | Int32 | 状态码; 请求成功=200；请求失败=300；token验证失败=400；服务器内部错误=500 |
| msg | String | 提示信息; |
| datas | Object | 返回结果; 返回结果列表,最多返回50条数据,添加、修改接口时返回空 |

---

## 物料清单列表(适用V32.10已有功能)

**路径**: 首页生产栏目物料清单管理物料清单对接物料清单列表(适用V32.10已有功能)

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/webapi/api/ZBServices/webapi/Produce/Bom/Handler/BomHandler/GetBoms`

**请求类型**: ``

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| Token | string | 否 | 身份唯一标识; 类型为String 用于验证权限,通过登录接口获取session字符串【详情参见】 |
| Datas | object | 否 | 条件对象; 类型为Object 以下任何参数：不传表示【本次不编辑此字段】，传任何值【都会替换原值】 |
| PageNumber | int32 | 否 | 页数; 整数 如：1 |
| PageSize | int32 | 否 | 每页大小; 整数 如：1 |
| Code | string | 否 | 编号; 字符串 如：'test' 模糊检索 |
| Title | string | 否 | 主题; 字符串 如：'test' 模糊检索 |
| StartTime | datetime | 否 | 开始日期; 时间格式 如：2020-01-01 |
| EndTime | datetime | 否 | 结束日期; 时间格式 如：2020-01-01 |
| SearchType | int32 | 否 | 检索类型; 整数 如：1 0:全量数据 1:变量数量 |

### 📤 请求示例

```json
{
    "Token": "xxxxxxxxxxx",
    "Datas": {
        "PageNumber": "1",
        "PageSize": "20",
        "Code": "",
        "Title": "",
        "StartTime": "2020-01-01",
        "EndTime": "2020-01-31",
        "SearchType": 0
    }
```

### 📨 响应参数

| 字段名称 | 类型 | 描述 |
|----------|------|------|
| flag | Boolean | 请求是否成功; ture:成功 false:失败 |
| code | Int32 | 状态码; 请求成功=200；请求失败=300；token验证失败=400；服务器内部错误=500 |
| msg | String | 提示信息; |
| datas | Object | 返回结果; 返回结果列表,最多返回50条数据,添加、修改接口时返回空 |
| BomItem | BomItemView | 物料清单父件信息; 对象(object) |
| ID | Int32 | 唯一标识; 整数 如：1 物料清单明细ID，添加默认为0，修改时需要通过物料清单列表接口获取物料清单结构对内容进行修改，ID不可修改 |
| ProductID | Int32 | 产品ID; 整数 如：1 参考产品接口返回ID |
| ProductName | String | 产品名称; 字符串 如：'test' |
| ProductCode | String | 产品编号; 字符串 如：'test' |
| ProductModel | String | 产品型号; 字符串 如：'test' |
| ChildID | Int32 | 物料清单子件BOM的ID; 整数 如：1 参考物料清单接口返回ID |
| RankCode | Int32 | 层次; 整数 如：1 正整数从0开始 |
| UnitName | String | 单位名称; 字符串 如：'test' |
| Bl | Decimal | 产品比例; 数字 如：1.0 |
| Num | Decimal | 数量; 数字 如：1.0 |
| Role | Int32 | 产品角色; 整数 如：1 0:自制件 1:委外件 2：外购件 |
| WorkingFlowsName | String | 工艺路线名称; 字符串 如：'test' |
| Wastage | Decimal | 损耗率; 数字 如：1.0 百分比,如0.1输入10 |
| Mtype | Int32 | 领料方式; 整数 如：1 1:正常领料 2:入库倒冲 默认值：0 |
| BomItems | IList`1 | 物料清单明细子件; 集合(List) 可以多个层级嵌套 |
| ID | Int32 | 唯一标识; 整数 如：1 物料清单明细ID，添加默认为0，修改时需要通过物料清单列表接口获取物料清单结构对内容进行修改，ID不可修改 |
| ProductID | Int32 | 产品ID; 整数 如：1 参考产品接口返回ID |
| ProductName | String | 产品名称; 字符串 如：'test' |
| ProductCode | String | 产品编号; 字符串 如：'test' |
| ProductModel | String | 产品型号; 字符串 如：'test' |
| ChildID | Int32 | 物料清单子件BOM的ID; 整数 如：1 参考物料清单接口返回ID |
| RankCode | Int32 | 层次; 整数 如：1 正整数从0开始 |
| UnitName | String | 单位名称; 字符串 如：'test' |
| Bl | Decimal | 产品比例; 数字 如：1.0 |
| Num | Decimal | 数量; 数字 如：1.0 |
| Role | Int32 | 产品角色; 整数 如：1 0:自制件 1:委外件 2：外购件 |
| WorkingFlowsName | String | 工艺路线名称; 字符串 如：'test' |
| Wastage | Decimal | 损耗率; 数字 如：1.0 百分比,如0.1输入10 |
| Mtype | Int32 | 领料方式; 整数 如：1 1:正常领料 2:入库倒冲 默认值：0 |
| BomItems | IList`1 | 物料清单明细子件; 集合(List) 可以多个层级嵌套 |
| ID | Int32 | 唯一标识; 整数 如：1 物料清单ID,添加为0，修改时需要通过物料清单列表接口获取物料清单结构对内容进行修改，ID不可修改 |
| Code | String | 物料清单编号; 字符串 如：'test' |
| Title | String | 单据主题; 字符串 如：'test' |
| BillType | Int32 | 物料清单类型; 整数 如：1 0：物料清单组件 1：物料清单 |
| IsMain | Int32 | 物料清单主辅; 整数 如：1 0：辅 1：主 |
| InDate | String | 添加时间; 字符串 如：'test' |
| Intro | String | 备注; 字符串 如：'test' |
| FromType | Int32 | 物料清单来源; 整数 如：1 0:手动添加 1：合同 2：报价 3：设计 |
| FromID | Int32 | 物料清单来源ID; 整数 如：1 手动添加时为0 |
| IsStop | Int32 | 启用状态; 整数 如：1 0：启用 1：停用 |

---

