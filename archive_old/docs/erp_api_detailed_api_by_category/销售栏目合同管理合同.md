# 销售栏目合同管理合同

**API数量**: 15 个

---

## 加入合同

**路径**: 首页销售栏目合同管理合同对接加入合同

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/sysa/mobilephone/salesmanage/contract/contractlist.asp?__msgid=addtocontract`

**请求类型**: `application/json`

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| ord | int | 是 | 产品ID值，整型，必填，可通过产品列表接口获取 |
| num1 | decimal | 否 | 产品数量，数字，非必填，默认为1 |
| company | int | 否 | 客户ID值，整型，非必填，用于根据客户给产品的价格计算并赋上默认值 |

### 📤 请求示例

```json
{
    "session" : "******",           
    "cmdkey" : "addtocontract",       
    "datas": [
        {"id": "ord", "val":  0}
```

**响应类型**: MessageClass

**类型说明**: 消息对象，一般用于返回某些操作的执行情况，如保存信息，退出信息等等。

### ⚠️  注意事项

无注意事项。

---

## 合同产品明细

**路径**: 首页销售栏目合同管理合同对接合同产品明细

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/sysa/mobilephone/salesmanage/contract/contractlist.asp`

**请求类型**: `application/json`

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| company | string | 否 | 关联客户ID |
| pagesize | int | 否 | 每页记录数，整型，列表分页参数，默认为空，则每页显示20条记录 |
| pageindex | int | 否 | 数据页标，整型，列表分页参数，表示返回第几页数据，默认为空，则返回第1页数据 |
| _rpt_sort | string | 否 | 排序字段，文本，列表排序条件，内容为列名称，即和返回对象中的source.table.cols[n].id值相同，该内容前加负号表示倒序，不加表示正序，默认可为空，示例-sortcol，表示按结果中的sortcol列倒序（注：该排序是数据库范围内排序，并非 |

### 📤 请求示例

```json
{
    "session" : "******",           
    "cmdkey" : "refresh",       
    "datas": [
        {"id": "company", "val":  ""}
```

**响应类型**: SourceClass

**类型说明**: 数据源对象，用于表示几种数据：枚举型数据(options) 、表格型数据（table）、文本数据(t...
SourceClass 类
字段集JSON格式
字段名称	数据类型	详细说明
type_	String	数据源的类型，不同的类型对应不同格式的数据。
table	tableClass 对象	数据源表格对象，当type_属性为table时，该对象有值。
uitype	String	UI属性：数据源呈现的UI方式，二次开发可忽略。
注意事项：
无注意事项。

### ⚠️  注意事项

无注意事项。

---

## 删除合同明细

**路径**: 首页销售栏目合同管理合同对接删除合同明细

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/sysa/mobilephone/salesmanage/contract/contractlist.asp?__msgid=delete&batch=0`

**请求类型**: `application/json`

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| batch | string | 否 | 删除方式标记，1 所有行删除 0 单一选择删除 |
| id | string | 否 | 数据唯一标识，合同明细ID值,可通过合同明细编辑列表获取。 |

### 📤 请求示例

```json
{
    "session" : "******",           
    "cmdkey" : "delete",       
    "datas": [
        {"id": "batch", "val":  ""}
```

**响应类型**: MessageClass

**类型说明**: 消息对象，一般用于返回某些操作的执行情况，如保存信息，退出信息等等。

### ⚠️  注意事项

无注意事项。

---

## 编辑产品明细

**路径**: 首页销售栏目合同管理合同对接编辑产品明细

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/sysa/mobilephone/salesmanage/contract/contractlist_edit.asp`

**请求类型**: `application/json`

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| ord | int | 否 | 数据唯一标识，整型，通用型字段，一般添加新资料时不需要传该字段，修改资料时为对应资料的唯一标识字段值，可从相应的列表接口获取。 |
| productOrd | string | 否 | 产品id，文本，50字以内 |
| jf_per_num | string | 否 | 积分，文本，50字以内 |
| includeTax | string | 否 | 是否含税，文本，50字以内 |
| title | string | 否 | 产品名称，文本，50字以内 |
| order1 | string | 否 | 编号，文本，50字以内 |
| type1 | string | 否 | 型号，文本，50字以内 |
| unit | int | 是 | 单位，整型，必填，。 来自接口：mobilephone/salesmanage/contract/UnitChange.asp?ord=0&company=0 |
| num1 | decimal | 是 | 数量，数字，必填 |
| price1 | decimal | 是 | 未税单价，数字，必填，999999999以内 |
| discountValue | string | 是 | 折扣，文本，必填，50字以内 |
| discount | decimal | 是 | 折扣，数字，必填 |
| priceAfterDiscount | decimal | 是 | 未税折后单价，数字，必填，999999999以内 |
| priceIncludeTax | decimal | 是 | 含税单价，数字，必填，999999999以内 |
| priceAfterTaxPre | decimal | 是 | 含税折后单价，数字，必填，999999999以内 |
| invoiceType | int | 是 | 票据类型，整型，必填，枚举类型，如：0:不开票。 |
| taxRate | decimal | 是 | 税率，数字，必填，999999999以内 |
| moneyAfterTax | decimal | 是 | 税后总价，数字，必填，999999999以内 |
| concessions | decimal | 是 | 明细优惠，数字，必填，999999999以内 |
| priceAfterTax | decimal | 是 | 优惠后单价，数字，必填，999999999以内 |
| moneyAfterConcessions | decimal | 是 | 金额，数字，必填，999999999以内 |
| money1 | decimal | 是 | 优惠后总价，数字，必填，999999999以内 |
| taxValue | decimal | 是 | 税额，数字，必填，999999999以内 |
| pricejy | decimal | 是 | 建议进价，数字，必填，999999999以内 |
| tpricejy | decimal | 是 | 建议总价，数字，必填，999999999以内 |
| date2 | datetime | 否 | 交货日期，日期 |
| intro | string | 否 | 备注，文本，50字以内 |
| @InheritId_id_1 | string | 否 | 自定义1，文本，50字以内 |
| @InheritId_id_2 | string | 否 | 自定义2，文本，50字以内 |
| @InheritId_id_3 | string | 否 | 自定义3，文本，50字以内 |
| @InheritId_id_4 | string | 否 | 自定义4，文本，50字以内 |
| @InheritId_id_5 | int | 否 | 自定义5，整型，枚举类型，如：5:灰色、4:绿色、3:黄色、1:红色、2:白色。 |
| @InheritId_id_6 | int | 否 | 自定义6，整型，枚举类型，如：8:小码、7:中码、6:大码。 |
| jf | int | 是 | 积分，整型，必填 |

### 📤 请求示例

```json
{
    "session" : "******",           
    "cmdkey" : "__sys_dosave",       
    "datas": [
        {"id": "ord", "val":  0}
```

**响应类型**: MessageClass

**类型说明**: 消息对象，一般用于返回某些操作的执行情况，如保存信息，退出信息等等。

### ⚠️  注意事项

无注意事项。

---

## 编辑产品明细

**路径**: 首页销售栏目合同管理合同对接编辑产品明细

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/sysa/mobilephone/salesmanage/contract/unitchange.asp?ord=0&__unit=0&company=0`

**请求类型**: `application/json`

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| ord | int | 否 | 数据唯一标识，整数，泛指当前单据的数据标识值，如客户ID、合同ID等等，可从相应的列表接口获取该值。 |
| company | string | 否 | 客户ID值，整数 |

### 📤 请求示例

```json
{
    "session" : "******",           
    "datas": [
        {"id": "ord", "val":  0}
```

**响应类型**: BillClass

**类型说明**: 单据对象，一般用于表示实际业务中由多个不同字段组成的数据结构，如客户详情、合同详情、合同添加等。

### ⚠️  注意事项

无注意事项。

---

## 合同添加

**路径**: 首页销售栏目合同管理合同对接合同添加

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/sysa/mobilephone/salesmanage/contract/add.asp`

**请求类型**: `application/json`

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| ord | int | 否 | 数据唯一标识，整型，通用型字段，一般添加新资料时不需要传该字段，修改资料时为对应资料的唯一标识字段值，可从相应的列表接口获取。 |
| company | int | 是 | 关联客户，整型，必填 来自接口：mobilephone/salesmanage/custom/list.asp?datatype=addcontract&checktype=redio |
| htid | string | 是 | 合同编号，文本，必填，50字以内 |
| title | string | 是 | 合同主题，文本，必填，100字以内 |
| date3 | datetime | 是 | 签订日期，日期，必填 |
| date1 | datetime | 是 | 开始日期，日期，必填 |
| date2 | datetime | 否 | 结束日期，日期 |
| cateid | string | 否 | 销售人员，整型 来自接口：mobilephone/systemManage/gate_list.asp?sort=4&stype=radio |
| person2id | string | 否 | 对方代表，整型 来自接口：mobilephone/salesManage/person/list.asp?checktype=radio |
| sort | int | 是 | 合同分类，整型，必填，枚举类型，如：192:产品销售、985:技术服务、193:商务服务、194:代理分销。 |
| complete1 | int | 否 | 合同状态，整型，枚举类型，如：195:生效执行中、196:执行完毕、197:意外终止、354:需要开电子发票。 |
| bz | int | 是 | 币　　种，整型，必填，枚举类型，如：14:人民币。 |
| intro | string | 否 | 合同概要，文本，4000字以内 |
| chance | string | 否 | 关联项目，文本，50字以内 |
| premoney | decimal | 是 | 合同总额，数字，必填，999999999以内 |
| yhvalue | decimal | 是 | 优惠总额，数字，必填，999999999以内 |
| money1 | decimal | 是 | 优惠后总额，数字，必填，999999999以内 |
| fqhk | int | 是 | 收款计划，整型，必填，枚举类型，如：0:自动生成、3:出库自动收款、4:发货自动收款、5:开票自动收款、6:对账手动生成。 |
| invoicePlan | int | 是 | 开票计划，整型，必填，枚举类型，如：1:自动开票、3:出库自动开票、4:发货自动开票。 |
| invoiceMode | int | 是 | 开票类型，整型，必填，枚举类型，如：2:明细、0:不开票。 |
| extras | decimal | 否 | 运杂费，数字，999999999以内 |
| 维修单id | int | 否 | 维修单id，整型 |
| @contractlist | string | 否 | 合同明细，文本，50字以内 |
| jh_intro3 | string | 否 | 付款方式，文本，100字以内 |
| jh_intro4 | string | 否 | 交货地址，文本，100字以内 |
| jh_intro5 | string | 否 | 交货方式，文本，100字以内 |
| jh_intro6 | string | 否 | 交货时间，文本，100字以内 |
| jh_intro1 | string | 否 | 配件，文本，100字以内 |
| jh_intro2 | string | 否 | 备注，文本，500字以内 |

### 📤 请求示例

```json
{
    "session" : "******",           
    "cmdkey" : "__sys_dosave",       
    "datas": [
        {"id": "ord", "val":  0}
```

**响应类型**: MessageClass

**类型说明**: 消息对象，一般用于返回某些操作的执行情况，如保存信息，退出信息等等。

### ⚠️  注意事项

无注意事项。

---

## 所有合同列表

**路径**: 首页销售栏目合同管理合同对接所有合同列表

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/sysa/mobilephone/salesmanage/contract/billlist.asp`

**请求类型**: `application/json`

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| stype | int | 否 | 列表模式，整型，默认为空或0:所有合同列表,1:待审批合同,2:即将到期合同 |
| datatype | string | 否 | 列表模式，默认为空:全部，tel：客户关联，product：产品关联，chance：项目关联 |
| ord | string | 否 | 列表数据检索条件，默认为空:全部，datatype模式下tel: 客户ID，product: 产品ID，chance: 项目ID |
| remind | string | 否 | 提醒类型，14:合同审批,17:员工合同到期,21:合同到期,23:合同交货,128:员工合同审批,151:最新合同,156:员工合同到期,201:合同共享 |
| ly | string | 否 | 来源，默认为空 |
| tdate1 | string | 否 | 添加时间-开始，文本，默认为空 |
| tdate2 | string | 否 | 添加时间-结束，文本，默认为空 |
| bzpara | string | 否 | 币种 |
| checktype | string | 否 | 关联单据选择模式，radio 单选 |
| a_cateid | string | 否 | 销售人员，文本，默认为空 |
| a_sort1 | string | 否 | 合同来源，文本，默认为空 |
| a_date_0 | string | 否 | 签订日期-开始，文本，默认为空 |
| a_date_1 | string | 否 | 签订日期-结束，文本，默认为空 |
| a_sort2 | string | 否 | 合同状态，文本，默认为空 |
| a_sort3 | string | 否 | 合同分类，文本，默认为空 |
| catetype | int | 否 | 人员类型，整数，默认为空，枚举类型： 销售人员=1;创建人员=2 |
| cateid | string | 否 | 人员选择，文本，默认为空，多选项检索条件，枚举类型，多个值之间用逗号隔开(如：11,23...)。 |
| bz | string | 否 | 币种，文本，默认为空，多选项检索条件，枚举类型，多个值之间用逗号隔开。 |
| htfl | string | 否 | 合同分类，文本，默认为空，多选项检索条件，枚举类型，多个值之间用逗号隔开(如：11,23...)。 |
| htzt | string | 否 | 合同状态，文本，默认为空，多选项检索条件，枚举类型，多个值之间用逗号隔开(如：11,23...)。 |
| title | string | 否 | 合同主题，文本，默认为空，模糊检索条件 |
| htbh | string | 否 | 合同编号，文本，默认为空，模糊检索条件 |
| khmc | string | 否 | 客户名称，文本，默认为空，模糊检索条件 |
| htmoney_0 | decimal | 否 | 合同金额上限，数字，该条件允许为空，表示无穷小 |
| htmoney_1 | decimal | 否 | 合同金额下限，数字，该条件允许为空，表示无穷大 |
| moneyall_0 | decimal | 否 | 优惠后金额上限，数字，该条件允许为空，表示无穷小 |
| moneyall_1 | decimal | 否 | 优惠后金额下限，数字，该条件允许为空，表示无穷大 |
| dateQD_0 | string | 否 | 签订日期，文本，默认为空，日期段检索条件（起始日期） |
| dateQD_1 | string | 否 | 签订日期，文本，默认为空，日期段检索条件（截止日期） |
| dateKS_0 | string | 否 | 开始日期，文本，默认为空，日期段检索条件（起始日期） |
| dateKS_1 | string | 否 | 开始日期，文本，默认为空，日期段检索条件（截止日期） |
| dateZZ_0 | string | 否 | 终止日期，文本，默认为空，日期段检索条件（起始日期） |
| dateZZ_1 | string | 否 | 终止日期，文本，默认为空，日期段检索条件（截止日期） |
| searchKey | string | 否 | 快速检索条件，文本，对返回列表中所有文本列进行匹配筛选，默认为空 |
| pagesize | int | 否 | 每页记录数，整型，列表分页参数，默认为空，则每页显示20条记录 |
| pageindex | int | 否 | 数据页标，整型，列表分页参数，表示返回第几页数据，默认为空，则返回第1页数据 |
| _rpt_sort | string | 否 | 排序字段，文本，列表排序条件，内容为列名称，即和返回对象中的source.table.cols[n].id值相同，该内容前加负号表示倒序，不加表示正序，默认可为空，示例-sortcol，表示按结果中的sortcol列倒序（注：该排序是数据库范围内排序，并非 |

### 📤 请求示例

```json
{
    "session" : "******",           
    "cmdkey" : "refresh",       
    "datas": [
        {"id": "stype", "val":  0}
```

**响应类型**: SourceClass

**类型说明**: 数据源对象，用于表示几种数据：枚举型数据(options) 、表格型数据（table）、文本数据(t...
SourceClass 类
字段集JSON格式
字段名称	数据类型	详细说明
type_	String	数据源的类型，不同的类型对应不同格式的数据。
table	tableClass 对象	数据源表格对象，当type_属性为table时，该对象有值。
uitype	String	UI属性：数据源呈现的UI方式，二次开发可忽略。
注意事项：
无注意事项。

### ⚠️  注意事项

无注意事项。

---

## 洽谈进展

**路径**: 首页销售栏目合同管理合同对接洽谈进展

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/sysa/mobilephone/systemmanage/reply.asp?datatype=contract`

**请求类型**: `application/json`

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| ord | int | 否 | 数据唯一标识，整型，通用型字段，一般添加新资料时不需要传该字段，修改资料时为对应资料的唯一标识字段值，可从相应的列表接口获取。 |
| intro | string | 是 | 选择模板，文本，必填，1000字以内，枚举类型，如：106:谈的很好，让发合同。、107:电话无人接听。、108:现在还没考虑。、109:今天谈的不错，让明天面谈。、120:正在考虑中。 |
| files | string | 否 | 添加附件，文本，50字以内 |
| sort | int | 是 | 跟进方式，整型，必填，枚举类型，如：484:其他、483:上门、482:邮件、481:电话。 |
| plantype | int | 是 | 日程类型，整型，必填，枚举类型，如：2:已完成日程、1:待完成日程、0:不生成。 |
| @ret2_0 | datetime | 是 | 开始时间，日期，必填 |
| @ret2_1 | datetime | 是 | 结束时间，日期，必填 |
| @title2 | string | 是 | 日程内容，文本，必填，1000字以内 |
| @intro2 | string | 是 | 完成情况，文本，必填，1000字以内 |
| @cateid | string | 否 | 执行人员，文本，4000字以内 |
| @remind | int | 是 | 是否提醒，整型，必填，枚举类型，如：0:提醒、1:不提醒。 |
| @ret_0 | datetime | 是 | 开始时间，日期，必填 |
| @ret_1 | datetime | 是 | 结束时间，日期，必填 |
| @title1 | string | 是 | 日程内容，文本，必填，1000字以内 |

### 📤 请求示例

```json
{
    "session" : "******",           
    "cmdkey" : "__sys_dosave",       
    "datas": [
        {"id": "ord", "val":  0}
```

**响应类型**: MessageClass

**类型说明**: 消息对象，一般用于返回某些操作的执行情况，如保存信息，退出信息等等。

### ⚠️  注意事项

无注意事项。

---

## 合同共享

**路径**: 首页销售栏目合同管理合同对接合同共享

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/sysa/mobilephone/salesmanage/contract/share.asp`

**请求类型**: `application/json`

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| ord | int | 否 | 数据唯一标识，整型，通用型字段，一般添加新资料时不需要传该字段，修改资料时为对应资料的唯一标识字段值，可从相应的列表接口获取。 |
| member1 | int | 是 | 共享用户类型，整型，必填，枚举类型，如：1:共享给所有用户、0:共享给以下用户。 |
| member2 | string | 否 | 共享用户集合，文本，50字以内， 来自树结构数据：点击查看数据。 |

### 📤 请求示例

```json
{
    "session" : "******",           
    "cmdkey" : "__sys_dosave",       
    "datas": [
        {"id": "ord", "val":  0}
```

**响应类型**: MessageClass

**类型说明**: 消息对象，一般用于返回某些操作的执行情况，如保存信息，退出信息等等。

### ⚠️  注意事项

无注意事项。

---

## 合同审批

**路径**: 首页销售栏目合同管理合同对接合同审批

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/sysa/mobilephone/systemmanage/approve.asp?dtype=2`

**请求类型**: `application/json`

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| ord | int | 否 | 数据唯一标识，整型，通用型字段，一般添加新资料时不需要传该字段，修改资料时为对应资料的唯一标识字段值，可从相应的列表接口获取。 |
| @__sp_money | decimal | 是 | 审批金额，数字，必填 |
| @__sp_result | int | 是 | 审批结果，整型，必填，枚举类型，如：1:同意、2:否决、3:退回。 |
| @__sp_intro | string | 否 | 审批意见，文本，50字以内 |
| @__sp_sign | string | 否 | 手写签名，文本，50字以内 |
| @bill.approve.list | string | 否 | undefined文本，50字以内 |

### 📤 请求示例

```json
{
    "session" : "******",           
    "cmdkey" : "__sys_dosave",       
    "datas": [
        {"id": "ord", "val":  0}
```

**响应类型**: MessageClass

**类型说明**: 消息对象，一般用于返回某些操作的执行情况，如保存信息，退出信息等等。

### ⚠️  注意事项

无注意事项。

---

## 合同合同详情

**路径**: 首页销售栏目合同管理合同对接合同合同详情

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/webapi/v3/sales/contract/detail`

**请求类型**: ``

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| ord | int | 是 | 单据ID |

### 📤 请求示例

```json
{ZBAPI-Token : ****** }
```

### 📨 响应参数

| 字段名称 | 类型 | 描述 |
|----------|------|------|
| Data | Object | 单据字段 |
| Title | String | 合同主题 |
| Htid | String | 合同编号 |
| AddcateName | String | 添加人 |
| CateName | String | 销售人员 |
| Person1 | String | 我方代表 |
| Person2 | String | 对方代表 |
| Date7 | String | 添加时间 |
| Date3 | String | 签订日期 |
| SortName | String | 合同分类 |
| Complete1Name | String | 合同状态 |
| mZt1 | String | 出库状态 |
| mZt2 | String | 发货状态 |
| PlanPreStatus | Int | 预计划状态 可选内容: 无需预计划=-1;待预计划=0;预计划完毕=1 |
| SpStatus | String | 审批状态 |
| CurSp | String | 当前审批人 |
| LastSp | String | 最后审批人 |
| BzName | String | 币种 |
| areatext | String | 所属地区 |
| Trade | Int | 所属行业 可选内容: 印刷=139;银行=137;电表=968;交流接触器=967;防水头=966;五金店=965;屏幕=964;模块=963;包装（木箱、纸箱）=962;面板玻璃=961;线缆=960;风扇=959;枪线=958;主板、4G模块、刷卡板、=957;电源=956;出口木箱包装=955;断路器、空开=954;铜排=953;熔断器=952;直流接触器=951;钣金厂=950 |
| StopName | String | 终止人 |
| Stopdate | String | 终止时间 |
| AddshareName | String | 共享人 |
| HtidBarCode | String | 合同编号一维条码 |
| Premoney | Float | 合同总额 |
| YhMoneyM | Float | 优惠总额 |
| Money1 | Float | 优惠后总额 |
| HkMoney1 | Float | 到账总额 |
| PaybackMode | Int | 收款类型 可选内容: 汇总=1;明细=2 |
| Fqhk | Int | 收款计划 可选内容: 自动生成=0;手动生成=1;分期回款=2;出库自动收款=3;发货自动收款=4;开票自动收款=5;对账手动生成=6;发起方生成付款计划后自动收款=99 |
| CKAccModel | Int | 对账方式 可选内容: (按合同对账)=1;(按出库对账)=2;(按发货对账)=3;(按开票对账)=4 |
| InvoiceMode | Int | 开票类型 可选内容: 不开票=0;汇总=1;明细=2 |
| InvoicePlan | Int | 开票计划 可选内容: 不开票=0;自动开票=1;手动开票=2;出库自动开票=3;发货自动开票=4;对账手动生成=5 |
| SKMLMoney | Float | 收款抹零 |
| ProductCostMoney | Float | 产品成本 |
| FYMoney | Float | 费用总额 |
| THMoney | Float | 退货金额 |
| thCost | Float | 退货成本 |
| MLMoney | Float | 销售毛利 |
| MLL | Float | 毛利率 |
| thTotal | Float | 退货后总额 |
| Extras | Float | 运杂费 |
| jinjiaCostMoney | Float | 建议进价成本 |
| jinjiaMlMoney | Float | 销售毛利（进价） |
| jinjiaMlRate | Float | 毛利率（进价） |
| TaxValue1 | Float | 税额 |
| Money_tc1 | Float | 业务提成 |
| FkDays | String | 账期 |
| Title | String | 产品名称 |
| Order1 | String | 编号 |
| Type1 | String | 型号 |
| Unit | Int | 单位 可选内容: 箱=241;包=369;套=251;米=239;台=238;吨=240;个=242;袋=243;瓶=370;条=373;张=943;PCS=942;盒=941;卷=940;运费=480;车=431;顶=372;双=371;件=368;公斤=358;次=338 |
| Drawing | String | 产品图纸 |
| Num1 | Int | 数量 |
| Num2 | String | 申请 |
| Num3 | String | 出库 |
| Num4 | String | 发货 |
| NumTH | String | 退货 |
| InvoiceType | String | 票据类型 |
| TaxRate | Float | 税率 |
| EcgInNum | Int | 换入数量 |
| EcgOutNum | Int | 换出数量 |
| Date2 | String | 交货日期 |
| Intro | String | 备注 |
| Jf | String | 积分 |
| sysIcusIInheritIdIidI1 | String | 自定义1 |
| sysIcusIInheritIdIidI2 | String | 自定义2 |
| sysIcusIInheritIdIidI3 | String | 自定义3 |
| sysIcusIInheritIdIidI4 | String | 自定义4 |
| sysIcusIInheritIdIidI5 | String | 自定义5 可选内容: 灰色=灰色;绿色=绿色;黄色=黄色;红色=红色;白色=白色 |
| sysIcusIInheritIdIidI6 | String | 自定义6 可选内容: 小码=小码;中码=中码;大码=大码 |
| Intro3 | String | 收款方式 |
| Intro4 | String | 交货地址 |
| Intro5 | String | 交货方式 |
| Intro6 | String | 交货时间 |
| Intro1 | String | 配件 |
| BillType | String | BillType |
| BillName | String | BillName |
| Progress | Int | Progress |
| sp | String | 审批阶段 |
| name | String | 审批人员 |
| 时间 | DateTime | 审批时间 （接口要求日期格式为：yyyy-MM-dd HH:mm:ss） |
| 结果 | String | 审批结果 |
| 意见 | String | 审批意见 |
| sptype | String | 审批方式 |
| SendDateFormatted | String | 发货日期 |
| Title | String | 物流单主题 |
| LogisticsNumber | String | 物流编号 |
| Sort1 | String | 物流公司 |
| LogisticsCode | String | 第三方物流单号 |
| Code | Int | 状态码,请求成功=200；请求失败=300；token验证失败=400；服务器内部错误=500 |
| Msg | String | 提示信息 |

---

## 合同审批修改

**路径**: 首页销售栏目合同管理合同对接合同审批修改

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/webapi/v3/sales/contract/approve/edit`

**请求类型**: ``

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| ord | int | 是 | 单据ID |
| approveResult | string | 是 | 审批结果 同意=1,否决=0,退回=2 |
| returnProc | string | 否 | 退回级别 来源-合同审批记录详情接口 |
| approveMessage | string | 是 | 审批意见 |
| newApprovers | string | 否 | 下一级审批人 |
| __cmdtag | string | 否 | 审批模式 正常审批为空，改批=__cmd_updateapprove |

### 📤 请求示例

```json
{ZBAPI-Token : ****** }
```

### 📨 响应参数

| 字段名称 | 类型 | 描述 |
|----------|------|------|
| Code | Int | 状态码,请求成功=200；请求失败=300；token验证失败=400；服务器内部错误=500 |
| Msg | String | 提示信息 |

---

## 合同审批记录详情

**路径**: 首页销售栏目合同管理合同对接合同审批记录详情

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/webapi/v3/sales/contract/approve/approveStageList/detail`

**请求类型**: ``

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| ord | int | 是 | 单据ID |

### 📤 请求示例

```json
{ZBAPI-Token : ****** }
```

### 📨 响应参数

| 字段名称 | 类型 | 描述 |
|----------|------|------|
| Data | Object | 单据字段 |
| StageID | String | 唯一标识-阶段ord |
| ApproveStage | String | 审批阶段 |
| Code | Int | 状态码,请求成功=200；请求失败=300；token验证失败=400；服务器内部错误=500 |
| Msg | String | 提示信息 |

---

## 合同添加

**路径**: 首页销售栏目合同管理合同对接合同添加

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/webapi/v3/sale/contract/add`

**请求类型**: ``

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| Title | string | 是 | 合同主题,文本,100字以内 |
| HTId | string | 是 | 合同编号,文本,50字以内 |
| CompanyName | string | 是 | 客户名称,文本 |
| SignDate | string | 是 | 签订日期,日期 |
| BeginDate | string | 是 | 开始日期,日期 |
| EndDate | string | 否 | 终止日期,日期 |
| PersonName | string | 否 | 对方代表,文本 |
| SeleManName | string | 否 | 销售人员,文本 |
| SortName | string | 是 | 合同分类,文本 |
| Currency | string | 是 | 币种,文本,必须为系统设置的币种名称 |
| AutoCreateType | int | 是 | 自动预计划,整型,0-否,1-是,默认否 |
| Intro | string | 否 | 合同概要,文本,4000字以内 |
| StatusName | string | 是 | 合同状态，文本 |
| Extras | int | 否 | 运杂费,数字,禁止负数 |
| Payment | string | 否 | 收款方式,文本,200字以内 |
| DeliveryAddress | string | 否 | 交货地址,文本,200字以内 |
| DeliveryWay | string | 否 | 交货方式,文本,200字以内 |
| DeliveryDate | string | 否 | 交货时间,文本,200字以内 |
| Accessory | string | 否 | 配件,文本,200字以内 |
| Remark | string | 否 | 备注,文本,200字以内 |
| PaymentStatus | int | 是 | 收款计划,整型,自动生成=0、手动生成=1、出库自动收款=3、发货自动收款=4、开票自动收款=5、对账手动生成=6 |
| PaybackMode | int | 是 | 收款类型,整型,汇总=1、明细=2 |
| CKAccModel | int | 否 | 对账方式,整型,按合同对账=1、按出库对账=2、按发货对账=3、按开票对账=4（只有当收款计划为对账生成时才可录入数值） |
| InvoiceStatus | int | 是 | 开票计划,整型,自动开票=1、手动开票=2、出库自动开票=3、发货自动开票=4、对账手动生成=5 |
| InvoiceMode | int | 是 | 开票类型,整型,不开票=0、汇总开票=1、明细开票=2 |
| contractList | list | 否 | 合同明细 |
| ProductName | string | 是 | 产品名称，文本，500字以内 |
| ProductCode | string | 是 | 产品编号，文本，500字以内 |
| ProductType | string | 否 | 产品型号，文本，500字以内 |
| productUnitName | string | 是 | 产品单位，文本，500字以内 |
| InvoiceTypeName | string | 是 | 可开具票据类型，文本，500字以内 |
| Id | int | 否 | Id |
| Num | int | 是 | 数量 数字 必须为大于0的数字 |
| Discount | float | 是 | 折扣,数字,禁止负数 |
| TaxRate | float | 是 | 税率,数字,禁止负数 |
| Price | float | 是 | 单价,数字,禁止负数 |
| Concessions | float | 否 | 优惠金额,数字,禁止负数 |
| Intro | string | 否 | 备注,文本,200字以内 |
| DeliveryDate | string | 否 | 交货日期,日期 |
| Points | int | 否 | 积分,数字,禁止负数 |
| IsTax | int | 是 | 是否含税,整数，0-不含税，1-含税 |

### 📤 请求示例

```json
{ZBAPI-Token : ****** }
```

### 📨 响应参数

| 字段名称 | 类型 | 描述 |
|----------|------|------|
| Code | Int | 状态码,请求成功=200；请求失败=300；token验证失败=400；服务器内部错误=500 |
| Msg | String | 提示信息 |

---

## 加入合同

**路径**: 首页销售栏目合同管理合同对接加入合同

**调用方式**: HTTP | POST

**接口地址**: `http://ls1.jmt.ink:46088/sysa/mobilephone/salesmanage/contract/contractlist.asp?__msgid=addtocontract`

**请求类型**: `application/json`

### 📥 请求参数

| 字段名称 | 类型 | 必填 | 描述 |
|----------|------|------|------|
| ord | int | 是 | 产品ID值，整型，必填，可通过产品列表接口获取 |
| num1 | decimal | 否 | 产品数量，数字，非必填，默认为1 |
| company | int | 否 | 客户ID值，整型，非必填，用于根据客户给产品的价格计算并赋上默认值 |

### 📤 请求示例

```json
{
    "session" : "******",           
    "cmdkey" : "addtocontract",       
    "datas": [
        {"id": "ord", "val":  0}
```

**响应类型**: MessageClass

**类型说明**: 消息对象，一般用于返回某些操作的执行情况，如保存信息，退出信息等等。

### ⚠️  注意事项

无注意事项。

---

